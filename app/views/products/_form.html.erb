<%= form_for @product, html: { multipart: true } do |f| %>
  <div class="well product-well">

    <div class= "row">
      <div class="col-md-12">
        <%= render 'layouts/error_messages', object: f.object %>
      </div>
    </div>

    <div class = "row">
      <div class="col-md-4">
        <div class="form-group">
          <%= f.text_field :name, placeholder: "product name", class: "form-control" %>
          <div class="explanation name-explanation">Choose a name for your product e.g. Faskyn for Entreprise</div>
        </div>
        <div class="form-group">
          <%= f.file_field :product_image %>
          <%= f.hidden_field :product_image_cache %>
          <div class="explanation image-explanation">Choose a product image</div>
        </div>
      </div>
      <div class="col-md-4">
        <%= image_tag(@product.product_image_url(:base_thumb), class: "old-product-image") if @product.product_image? %>
      </div>
      <div class="col-md-4">
        <div class="form-group">
          <%= f.collection_select :industry_ids, Industry.all.order(name: :asc), :id, :name, {}, { multiple: true, class: "form-control" } %>
          <div class="explanation industry-explanation">Choose one or more industries</div>
        </div>
      </div>
    </div>
    
    <div class = "row website-company-row">
      <div class="col-md-6">
        <div class="form-group">
          <%= f.text_field :website, placeholder: "product site", class: "form-control" %>
          <div class="explanation website-explanation">URL to the website where you explain more about this product.</div>
        </div>
      </div>
      <div class="col-md-6">
      </div>
    </div>

    <div class = "row">
      <div class="col-md-12">
        <div class="form-group">
          <%= f.text_field :oneliner, placeholder: "oneliner", class: "form-control" %>
          <div class="explanation oneliner-explanation">Short, max 140-character-long description of the product. Something catchy that helps people quickly understand and remember it.</div>
        </div>
      </div>
    </div>
  </div>

  <h4 class="description-label">Description
  </h4>
  <div class="well product-well">    
    <div class="row">
      <div class="col-md-12">
        <div class="form-group">
          <%= f.text_area :description, placeholder: "description", class: "form-control" %>
          <div class="explanation description-explanation">Max 500-character-long descripiton of the product. Something for the people who got interested after the oneliner.</div>
        </div>
      </div>
    </div>
  </div>

  <h4 class="usecase-label">Usecases</h4>
  <div class="well product-well usecase-well">
    <div class="row">
      <div class="col-md-12 usecase-fields">
        <%= f.fields_for :product_usecases do |product_usecase| %>
          <%= render 'product_usecase_fields', f: product_usecase %>
        <% end %>
      </div>
    </div>
    <div class="form-group">
      <div class="explanation usecase-explanation">Who is this good for? E.g. banks, telcos, etc. <strong>Why</strong> would they care about it? <strong>How</strong> would they use it?</div>
      <div class="adding-extra"><%= link_to_add_association 'Add new usecase', f, :product_usecases %></div>
    </div>
  </div>

  <h4 class="customer-labe">Customers</h4>
  <div class="well product-well customer-well">
    <div class="row">
      <div class="col-md-12 customer-fields">
        <%= f.fields_for :product_customers do |product_customer| %>
          <%= render 'product_customer_fields', f: product_customer %>
        <% end %>
      </div>
    </div>
    <div class="form-group">
      <div class="explanation customer-explanation">Who is already using your product? How</strong> do they use it? (If you don't have any add some potential customers.)</div>
      <div class="adding-extra"><%= link_to_add_association 'Add new customer', f, :product_customers %></div>
    </div>
  </div>

  <h4 class="lead-label">Potential leads</h4>
  <div class="well product-well lead-well">
    <div class="row">
      <div class="col-md-12 lead-fields">
        <%= f.fields_for :product_leads do |product_lead| %>
          <%= render 'product_lead_fields', f: product_lead %>
        <% end %>
      </div>
    </div>
    <div class="form-group">
      <div class="explanation lead-explanation">Who do you think could use your product? <strong>Why</strong> would they care about it? <strong>How</strong> would they use it?</div>
      <div class="adding-extra"><%= link_to_add_association 'Add new potential lead', f, :product_leads %></div>
    </div>
  </div>
  
  <div class="form-group">
    <%= f.button "Save product", class: "btn btn-primary", data: {disable_with: "<i class='fa fa-spinner fa-spin'></i> Saving..."} %>
    <%= link_to "Cancel", :back, class: "btn btn-default back-button" %>
  </div>
<% end %>